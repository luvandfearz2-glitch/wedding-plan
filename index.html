<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>결혼 계획 내용 동의서</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Jua&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pink: #d87a97;
            --secondary-pink: #ffc2d1;
            --light-pink-bg: #fff0f5;
            --card-bg: #ffffff;
            --text-color: #5a4a4f;
            --title-font: 'Jua', sans-serif;
            --body-font: 'Noto Sans KR', sans-serif;
        }

        body {
            margin: 0;
            font-family: var(--body-font);
            background-color: var(--light-pink-bg);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* 상단 고정 바 최소화 */
        header {
            width: 100%;
            max-width: 600px;
            height: 60px;
            background: white;
            position: fixed;
            top: 0;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 15px;
            box-sizing: border-box;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        header h1 {
            font-family: var(--title-font);
            font-size: 1.1rem;
            color: var(--primary-pink);
            margin: 0;
        }

        .page-num {
            font-size: 0.85rem;
            color: var(--primary-pink);
            font-weight: bold;
        }

        .progress-container {
            width: 100%;
            height: 4px;
            background: #eee;
            border-radius: 2px;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-pink);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* 메인 컨텐츠 영역 */
        .app-container {
            width: 100%;
            max-width: 600px;
            margin-top: 75px;
            margin-bottom: 100px;
            padding: 0 15px;
            box-sizing: border-box;
        }

        .slide-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(216, 122, 151, 0.1);
        }

        .slide-title {
            font-family: var(--title-font);
            font-size: 1.4rem;
            color: var(--primary-pink);
            margin: 0 0 5px 0;
        }

        .slide-subtitle {
            font-size: 0.95rem;
            color: #8a7a80;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px dashed var(--secondary-pink);
        }

        /* 상세 데이터 스타일 */
        .content-area { font-size: 0.92rem; line-height: 1.6; }
        
        .summary-list { padding: 0; list-style: none; }
        .summary-list li { 
            background: #fff9fb; padding: 12px; border-radius: 12px; margin-bottom: 10px; border-left: 4px solid var(--primary-pink);
        }
        .summary-list strong { color: var(--primary-pink); display: block; margin-bottom: 2px; font-size: 0.95rem; }

        .table-wrap { overflow-x: auto; margin: 10px 0; border-radius: 10px; border: 1px solid #ffe3ec; }
        table { width: 100%; border-collapse: collapse; min-width: 300px; font-size: 0.82rem; }
        th { background: #ffe3ec; color: var(--primary-pink); padding: 10px 5px; text-align: left; }
        td { padding: 10px 5px; border-bottom: 1px solid #fff0f5; vertical-align: top; }

        .card-item { background: #fff5f8; padding: 15px; border-radius: 15px; margin-bottom: 12px; border: 1px solid #ffe3ec; }
        .card-item h4 { margin: 0 0 5px 0; color: var(--primary-pink); font-size: 1rem; }
        .price-tag { display: inline-block; background: var(--secondary-pink); padding: 2px 8px; border-radius: 8px; font-size: 0.8rem; font-weight: bold; margin-top: 5px; }

        .phase-box { background: #fdf2f5; padding: 15px; border-radius: 15px; margin-bottom: 15px; }
        .phase-box h4 { margin: 0 0 10px 0; color: white; background: var(--primary-pink); display: inline-block; padding: 2px 10px; border-radius: 20px; font-size: 0.9rem; }
        .phase-box ul { padding-left: 18px; margin: 0; }

        .note { font-size: 0.82rem; color: #d87a97; background: #fff0f5; padding: 10px; border-radius: 10px; margin-top: 15px; font-weight: bold; }

        /* 하단 고정 네비게이션 */
        .footer-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 600px;
            background: white;
            padding: 10px 15px 25px;
            box-sizing: border-box;
            display: flex;
            gap: 10px;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.05);
        }

        .btn { border: none; border-radius: 12px; font-family: var(--title-font); font-size: 1rem; cursor: pointer; transition: 0.2s; }
        .btn-prev { flex: 1; background: #ffe3ec; color: var(--primary-pink); padding: 15px 0; }
        .btn-next { flex: 1; background: var(--primary-pink); color: white; padding: 15px 0; }
        .btn:disabled { opacity: 0.5; }

        .check-btn {
            flex: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: white;
            border: 2px solid var(--secondary-pink);
            color: var(--primary-pink);
        }
        .check-btn.checked { background: #56ab2f; border-color: #56ab2f; color: white; }
        .check-btn input { display: none; }
    </style>
</head>
<body>

<header>
    <div class="header-info">
        <h1>결혼 계획 내용 동의서</h1>
        <div id="pageIndicator" class="page-num">1 / 10</div>
    </div>
    <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>
</header>

<div class="app-container">
    <main class="slide-card" id="content">
        </main>
</div>

<div class="footer-nav">
    <button class="btn btn-prev" onclick="move(-1)" id="prevBtn">이전</button>
    <label class="btn check-btn" id="checkBtn">
        <input type="checkbox" id="confirmCheck">
        <span id="checkIcon">⬜</span> <span id="checkText">동의</span>
    </label>
    <button class="btn btn-next" onclick="move(1)" id="nextBtn">다음</button>
</div>

<script>
    const slides = [
        {
            title: "1. Executive Summary",
            subtitle: "생애주기별 핵심 목표 요약",
            type: "summary",
            data: [
                {h: "결혼", c: "'27년 2월 예식 / 광주 합리적 웨딩 / 유럽 허니문", b: "잔여 축의금은 아내 가게 자금 활용"},
                {h: "주거", c: "'27년 1월 입주 / 에너지밸리 풍경채 / 부분 시공", b: "입주청소 및 반려견 코팅 필수"},
                {h: "재정", c: "출산 전후 '이원화 관리' 시스템 도입", b: "출산 후 생활비 및 보험료 지원 개시"},
                {h: "자산", c: "40대 10억 → 60대 50억 달성 (적립식 투자)", b: "비정기 수입 전액 재투자 원칙"},
                {h: "생활", c: "상호 존중 기반의 생활 수칙 확립", b: "가사 분담, 종교 자유, 주말 일정 존중"}
            ]
        },
        {
            title: "2. Timeline",
            subtitle: "2027년 예식 및 2028년 출산 목표",
            type: "table",
            headers: ["시기", "구분", "진행 사항"],
            rows: [
                ["'26.02", "일정 확정", "길일 택일 (양가 인사 생략), 날짜 확정 즉시 예약"],
                ["'26.03", "장소 예약", "광주 어반브룩 등 계약 및 보증인원 협의"],
                ["'26.04", "촬영 예약", "스드메(토탈샵) 및 본식 스냅 예약"],
                ["'26.10", "예물 투어", "일본 여행 겸 결혼반지(불가리) 수령"],
                ["'26.11", "퇴거 통보", "세입자에게 만기 퇴거 통보 (내용증명 등)"],
                ["'27.01", "입주/혼수", "신혼집 필수 시공 및 입주 완료"],
                ["'27.02", "본식/여행", "결혼식 진행 및 유럽(이탈리아) 신혼여행"]
            ]
        },
        {
            title: "3. 예식장 선정",
            subtitle: "하객 150명 / 2027년 견적 기준",
            type: "cards",
            data: [
                {t: "1. 어반브룩 (남구)", d: "프라이빗/야외, 미술관풍 건축물, 단독 예식", p: "식대 59,000 / 예산 약 1,100만"},
                {t: "2. 시크릿가든 (광산구)", d: "하우스/파티, 숲속 산장 분위기, 파티형 최적", p: "식대 54,000 / 예산 약 900만"},
                {t: "3. 제이아트 (서구)", d: "편의성/규모, 높은 층고, 넓은 주차장", p: "식대 55,000 / 예산 약 850만"}
            ],
            note: "※ 예식 비용 정산 후 남는 축의금 잔액은 전액 아내의 가게 운영/창업 자금으로 귀속함."
        },
        {
            title: "4. 촬영/의상 (스드메)",
            subtitle: "토탈샵 통합 패키지 전략",
            type: "cards",
            data: [
                {t: "1. 마이든", d: "심플/인물 중심, 깨끗하고 유행 타지 않는 세련됨", p: "예산 약 380만 / 추천 1순위"},
                {t: "2. 줄리엣발코니", d: "그리너리/자연광, 화사하고 따뜻한 색감", p: "예산 약 340만 / 야외 촬영 느낌"},
                {t: "3. 원규", d: "다양성/화보, 한옥 및 앤틱 등 배경 풍부", p: "예산 약 410만 / 표정 연기 보완"}
            ]
        },
        {
            title: "5. 신혼집 및 혼수",
            subtitle: "풍경채 입주 및 예산 최적화",
            type: "table",
            headers: ["구분", "항목", "내용", "비용"],
            rows: [
                ["시공", "마루코팅", "반려견 미끄럼 방지 UV", "100"],
                ["시공", "입주청소", "거주청소급 묵은 때 제거", "70"],
                ["시공", "부분도배", "오염 부위 실크 벽지", "60"],
                ["혼수", "냉장고", "삼성/LG 신규 구매", "250"],
                ["혼수", "가전가구", "TV/세탁기 등 S급 중고", "500"]
            ],
            note: "합계 약 980만 원 (시공 및 혼수 총계)"
        },
        {
            title: "6. 재정 운용 체계",
            subtitle: "출산 전후 명확한 지원 분리",
            type: "phase",
            p1: {
                t: "Phase 1: 신혼 ~ 출산 전",
                c: ["시기: 2027년 ~ 2028년 초", "주거/식비: 남편 전액 부담", "생활비: 각자 해결 (지원 없음)", "보험료: 각자 납부"]
            },
            p2: {
                t: "Phase 2: 출산 후 ~ 육아기",
                c: ["시기: 2028년 이후 (출산 시)", "주거/식비: 남편 전액 부담 (유지)", "생활비: 월 100~200만 원 지원", "보험료: 아내 보험료 남편이 납부"]
            },
            note: "✨ 성과급 등 비정기 수입은 전액 투자 적립하며, 인출 시 생활비에서 차감하여 원금 복구함."
        },
        {
            title: "7. 부부 생활 수칙",
            subtitle: "상호 존중 기반의 원칙",
            type: "summary",
            data: [
                {h: "가사 분담", c: "구역 관리제: 청소/빨래 분담 관리", b: "식사: 집밥 원칙, 외식/배달은 필요시에만"},
                {h: "가족 행사", c: "명절: 양가 인사 후 즉시 귀가 (숙박 없음)", b: "지원: 양가 용돈/선물 동일 금액/빈도 집행"},
                {h: "개인/주말", c: "종교: 상호 존중, 교회 강요 금지", b: "일요일: 아내 시골 방문 존중 (출산 후 자녀 동반 필수)"}
            ]
        },
        {
            title: "8. 자산 로드맵",
            subtitle: "은퇴 시 순자산 50억 달성",
            type: "summary",
            data: [
                {h: "40대 (10억)", c: "종잣돈 마련 + 상급지 아파트 이동", b: "자산 10억 전까지 차량 교체 없음"},
                {h: "50대 (30억)", c: "부동산 가치 상승 + 투자 복리 효과", b: ""},
                {h: "60대 (50억)", c: "자산 포트폴리오 다각화 및 은퇴 준비", b: "은퇴 후 대형 애견카페 창업 및 강의"}
            ],
            note: "사용 금액만큼 생활비에서 빼서 다시 넣는 페널티 시스템 적용"
        },
        {
            title: "9. 예물 및 허니문",
            subtitle: "일본 예물 및 이탈리아 쇼핑",
            type: "summary",
            data: [
                {h: "예물 (Ring)", c: "불가리 (Bvlgari): '26.10 일본 구매", b: "엔저 및 면세 혜택 활용"},
                {h: "허니문 (6N7D)", c: "로마(3박) - 피렌체(3박)", b: "바티칸, 콜로세움 등 핵심 명소"},
                {h: "쇼핑", c: "피렌체 토르나부오니 거리", b: "루이비통, 에르메스 등 명품 집중"}
            ]
        },
        {
            title: "10. 최종 예산안",
            subtitle: "순수 지출 비용 (약 3,600만 원)",
            type: "table",
            headers: ["항목", "상세 내용", "비용"],
            rows: [
                ["예식장", "어반브룩 등 (150명)", "900"],
                ["스드메", "토탈샵 + 헬퍼비", "350"],
                ["예물", "불가리 비제로원 등", "400"],
                ["신혼여행", "유럽 항공/숙박", "800"],
                ["혼수", "신규+S급 중고", "750"],
                ["예비비", "시공/예복/잡비", "400"]
            ],
            note: "비고: 예식 비용 정산 후 남은 축의금 잔액은 아내의 가게 자금으로 귀속."
        }
    ];

    let current = 0;
    let checks = new Array(slides.length).fill(false);

    function render() {
        const slide = slides[current];
        document.getElementById("progressBar").style.width = ((current + 1) / slides.length * 100) + "%";
        document.getElementById("pageIndicator").innerText = (current + 1) + " / " + slides.length;
        
        let html = `<h2 class="slide-title">${slide.title}</h2><h3 class="slide-subtitle">${slide.subtitle}</h3><div class="content-area">`;
        
        if(slide.type === "summary") {
            html += `<ul class="summary-list">` + slide.data.map(d => `<li><strong>${d.h}</strong>${d.c}<br><small style="color:#888">${d.b}</small></li>`).join('') + `</ul>`;
        } else if(slide.type === "table") {
            html += `<div class="table-wrap"><table><thead><tr>${slide.headers.map(h=>`<th>${h}</th>`).join('')}</tr></thead><tbody>` + 
                    slide.rows.map(r => `<tr>${r.map(c=>`<td>${c}</td>`).join('')}</tr>`).join('') + `</tbody></table></div>`;
        } else if(slide.type === "cards") {
            html += slide.data.map(d => `<div class="card-item"><h4>${d.t}</h4><p>${d.d}</p><span class="price-tag">${d.p}</span></div>`).join('');
        } else if(slide.type === "phase") {
            html += `<div class="phase-box"><h4>${slide.p1.t}</h4><ul>${slide.p1.c.map(i=>`<li>${i}</li>`).join('')}</ul></div>`;
            html += `<div class="phase-box"><h4>${slide.p2.t}</h4><ul>${slide.p2.c.map(i=>`<li>${i}</li>`).join('')}</ul></div>`;
        }
        
        if(slide.note) html += `<div class="note">${slide.note}</div>`;
        html += `</div>`;
        
        document.getElementById("content").innerHTML = html;
        document.getElementById("prevBtn").disabled = (current === 0);
        document.getElementById("nextBtn").innerText = (current === slides.length - 1) ? "서명 완료" : "다음";
        
        const checkbox = document.getElementById("confirmCheck");
        checkbox.checked = checks[current];
        updateCheckUI();
    }

    function updateCheckUI() {
        const checked = document.getElementById("confirmCheck").checked;
        const label = document.getElementById("checkBtn");
        const icon = document.getElementById("checkIcon");
        const text = document.getElementById("checkText");
        
        if(checked) {
            label.classList.add("checked");
            icon.innerText = "✅";
            text.innerText = "동의함";
        } else {
            label.classList.remove("checked");
            icon.innerText = "⬜";
            text.innerText = "동의";
        }
    }

    document.getElementById("confirmCheck").onchange = function() {
        checks[current] = this.checked;
        updateCheckUI();
    };

    function move(n) {
        if(current + n >= 0 && current + n < slides.length) {
            current += n;
            render();
            window.scrollTo(0,0);
        } else if (current + n === slides.length) {
            alert("모든 계획 내용에 동의하셨습니다. 이제 되돌릴 수 없어요! ❤️");
        }
    }

    window.onload = render;
</script>
</body>
</html>
